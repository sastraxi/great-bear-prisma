type User {
  id: ID! @unique
  email: String! @unique
}

type Cart {
  id: ID! @unique
  sessionId: String! @unique
  user: User!
  items: [CartItem!]!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Item {
  id: ID! @unique
  name: String!
  amount: Int!
  category: String!
  description: String
  imageUrl: String
}

type CartItem {
  cart: Cart!
  item: Item!
  quantity: Int!
}

type OrderItem {
  order: Order!
  item: Item!
  quantity: Int!
}

type Order {
  id: ID! @unique
  user: User!
  stripeCharge: Json!
  amount: Int!

  currentLat: Float
  currentLon: Float
  destinationLat: Float!
  destinationLon: Float!

  createdAt: DateTime!
  updatedAt: DateTime!
  verifiedAt: DateTime
  capturedAt: DateTime
  cookedAt: DateTime
  deliveredAt: DateTime

  failedAt: DateTime
  error: Json

  items: [OrderItem!]!
}
